<!DOCTYPE html>
<html lang="hi-IN" dir="ltr">
<head>
  <!-- ===== BASIC META ===== -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Free Image Compressor ‚Äì Compress to 200KB Online | IMG1RESIZE.IN</title>

  <meta name="description" content="Compress images to exact size from 10KB to 20MB. Free online image compressor for JPG, PNG, WebP. No watermark, no signup.">
  <meta name="robots" content="index, follow, max-image-preview:large">
  <meta name="author" content="IMG1RESIZE.IN">
  <link rel="canonical" href="https://img1resize.in/image-compressor.html">

  <!-- ===== THEME ===== -->
  <meta name="theme-color" content="#667eea">

  <!-- ===== OPEN GRAPH ===== -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="Free Image Compressor ‚Äì Compress to 200KB Online">
  <meta property="og:description" content="Compress JPG, PNG, WebP images to exact KB size. 100% free image compressor with no watermark.">
  <meta property="og:url" content="https://img1resize.in/image-compressor.html">
  <meta property="og:image" content="https://img1resize.in/compress.jpg">
  <meta property="og:site_name" content="IMG1RESIZE.IN">

  <!-- ===== TWITTER CARD ===== -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Free Image Compressor ‚Äì Reduce Image Size Online">
  <meta name="twitter:description" content="Compress images online to exact file size. JPG, PNG, WebP supported.">
  <meta name="twitter:image" content="https://img1resize.in/compress.jpg">

  <!-- ===== STRUCTURED DATA ===== -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "Free Image Compressor",
    "url": "https://img1resize.in/image-compressor.html",
    "description": "Free online image compression tool to reduce image size to exact KB or MB without watermark.",
    "applicationCategory": "UtilitiesApplication",
    "operatingSystem": "Any",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "INR"
    },
    "publisher": {
      "@type": "Organization",
      "name": "IMG1RESIZE.IN",
      "url": "https://img1resize.in"
    }
  }
  </script>
    <!-- Inline Critical CSS -->
    <style>
      *{box-sizing:border-box;margin:0;padding:0}body{background:#f5f5f5;font-family:system-ui,-apple-system,sans-serif;line-height:1.6;color:#333}.navbar{background:#fff;box-shadow:0 2px 10px rgb(0 0 0 / .1);position:sticky;top:0;z-index:1000}.nav-container{max-width:1200px;margin:0 auto;display:flex;justify-content:space-between;align-items:center;height:70px;padding:0 20px;position:relative}.nav-brand{font-weight:700;color:#007bff;font-size:1.5rem;text-decoration:none}.nav-toggle{display:flex;flex-direction:column;justify-content:space-between;background:#fff0;border:none;cursor:pointer;padding:8px;width:40px;height:40px;border-radius:5px;transition:all 0.3s ease;z-index:1002}.nav-toggle:hover{background:rgb(0 123 255 / .1)}.nav-toggle span{width:24px;height:3px;background:#333;margin:2px 0;transition:0.3s;border-radius:3px;display:block}.nav-toggle.active span:nth-child(1){transform:rotate(45deg) translate(5px,5px)}.nav-toggle.active span:nth-child(2){opacity:0}.nav-toggle.active span:nth-child(3){transform:rotate(-45deg) translate(7px,-6px)}.nav-menu{display:flex;gap:20px;align-items:center}.nav-list{display:flex;list-style:none;gap:20px;align-items:center}.nav-list a{color:#333;text-decoration:none;font-weight:500;padding:8px 12px;border-radius:5px;transition:0.3s;font-size:.95rem;white-space:nowrap}.nav-list a:hover{background:rgb(0 123 255 / .1);color:#007bff}.nav-list a.active{background:rgb(0 123 255 / .15);color:#007bff;font-weight:600}.tool-btn{background:linear-gradient(135deg,#28a745 0,#20c997 100%);color:#fff;border:none;padding:8px 16px;border-radius:20px;font-weight:600;cursor:pointer;transition:0.3s;text-decoration:none;font-size:.9rem;display:inline-block}.tool-btn:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgb(40 167 69 / .3)}.mobile-tool-btn{display:none}.desktop-tool-btn{display:inline-block}.main-container{max-width:1000px;margin:30px auto;padding:0 20px}.tool-card{background:#fff;border-radius:15px;box-shadow:0 5px 25px rgb(0 0 0 / .1);padding:2rem;border:1px solid #e9ecef;margin-bottom:2rem}.upload-area{background:#fff;border:3px dashed #007bff;min-height:350px;height:400px;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;padding:2rem;border-radius:12px;margin-bottom:1.5rem;cursor:pointer;position:relative;overflow:hidden}.upload-area:hover{border-color:#0056b3;box-shadow:0 6px 20px rgb(0 0 0 / .15)}.upload-text{font-size:1.25rem;font-weight:700;color:#333;margin-bottom:1rem}.image-preview-container{position:relative;display:none;margin:15px 0;width:90%;max-width:600px;height:300px;overflow:hidden}.image-preview{max-width:100%;max-height:100%;height:auto;width:auto;border-radius:8px;box-shadow:0 4px 12px rgb(0 0 0 / .15);object-fit:contain}.dimension-overlay{position:absolute;bottom:10px;right:10px;background:rgb(0 0 0 / .7);color:#fff;padding:6px 12px;border-radius:4px;font-size:14px;font-weight:600;backdrop-filter:blur(4px);z-index:2}.size-badge{position:absolute;top:10px;left:10px;background:rgb(40 167 69 / .9);color:#fff;padding:6px 12px;border-radius:4px;font-size:14px;font-weight:600;backdrop-filter:blur(4px);z-index:2}.format-badge{position:absolute;top:10px;right:10px;background:rgb(255 193 7 / .9);color:#212529;padding:6px 12px;border-radius:4px;font-size:14px;font-weight:600;backdrop-filter:blur(4px);z-index:2}.btn{display:inline-block;font-weight:700;padding:.75rem 1.5rem;border-radius:25px;border:none;cursor:pointer;transition:all 0.3s;text-decoration:none;font-size:1rem}.btn-primary{background:linear-gradient(135deg,#007bff 0,#0056b3 100%);color:#fff}.btn-primary:hover{transform:translateY(-2px);box-shadow:0 5px 15px rgb(0 0 0 / .2)}.btn-warning{background:linear-gradient(135deg,#ffc107 0,#e0a800 100%);color:#212529;margin-top:10px;display:none}.size-controls{margin:2rem 0}.size-inputs{display:flex;gap:10px;align-items:center;justify-content:center;margin-bottom:1rem}.size-input{width:150px;padding:.75rem;border:2px solid #007bff;border-radius:8px;font-size:1rem;text-align:center}.unit-select{padding:.75rem;border:2px solid #007bff;border-radius:8px;font-size:1rem;background:#fff}.size-info{text-align:center;margin-top:10px;color:#666;font-size:.9rem}.preset-buttons{display:flex;gap:8px;justify-content:center;flex-wrap:wrap;margin:1rem 0}.preset-btn{padding:.5rem 1rem;border:2px solid #007bff;border-radius:20px;background:#fff;color:#007bff;cursor:pointer;font-weight:600;transition:all 0.3s;font-size:.9rem}.preset-btn:hover{background:#007bff;color:#fff;transform:translateY(-2px)}.quality-control{margin:1.5rem 0;text-align:center}.quality-slider{width:80%;margin:15px auto;display:block;height:8px;border-radius:5px;background:#ddd;-webkit-appearance:none}.quality-slider::-webkit-slider-thumb{-webkit-appearance:none;width:22px;height:22px;border-radius:50%;background:#007bff;cursor:pointer;border:3px solid #fff;box-shadow:0 2px 6px rgb(0 0 0 / .2)}.progress-meter-container{margin:2rem 0;display:none;text-align:center}.progress-meter{height:20px;background:#e9ecef;border-radius:10px;overflow:hidden;position:relative;margin:10px auto;width:90%;max-width:500px;box-shadow:inset 0 2px 4px rgb(0 0 0 / .1)}.progress-meter-fill{height:100%;background:linear-gradient(90deg,#007bff 0%,#00b3ff 50%,#28a745 100%);width:0%;transition:width 0.2s ease-out;position:relative;overflow:hidden}.progress-meter-fill::after{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(90deg,transparent 0%,rgb(255 255 255 / .4) 50%,transparent 100%);animation:shimmer 2s infinite}.progress-stages{display:flex;justify-content:space-between;width:90%;max-width:500px;margin:10px auto;font-size:.8rem;color:#666}.progress-stage{text-align:center;flex:1}.progress-stage.active{color:#007bff;font-weight:600}.progress-stage.completed{color:#28a745;font-weight:600}.progress-text{text-align:center;margin-top:10px;font-weight:600;color:#007bff}.progress-time{text-align:center;margin-top:5px;font-size:.8rem;color:#666}.content-section{background:#fff;border-radius:15px;padding:2rem;margin-bottom:2rem;box-shadow:0 3px 15px rgb(0 0 0 / .08)}.section-title{color:#007bff;margin-bottom:1.5rem;padding-bottom:.5rem;border-bottom:2px solid #e9ecef;font-size:1.5rem}.content-section p{margin-bottom:1rem;line-height:1.8}.content-section h3{color:#333;margin:1.5rem 0 1rem 0;font-size:1.2rem}.content-section ul,.content-section ol{margin-left:1.5rem;margin-bottom:1rem}.content-section li{margin-bottom:.5rem}.faq-item{margin-bottom:1rem;border:1px solid #e9ecef;border-radius:8px;overflow:hidden}.faq-question{width:100%;background:#f8f9fa;border:none;padding:1rem 1.5rem;text-align:left;font-weight:600;font-size:1rem;cursor:pointer;display:flex;justify-content:space-between;align-items:center}.faq-answer{padding:0 1.5rem;max-height:0;overflow:hidden;transition:max-height 0.3s ease}.faq-answer.show{padding:1rem 1.5rem;max-height:500px}.faq-question::after{content:'+';font-size:1.2rem;font-weight:700}.faq-question.active::after{content:'-'}.preview-container{margin-top:2rem;display:none;animation:fadeIn 0.8s}.preview-box{border:2px solid #e9ecef;padding:1.5rem;background:#fff;border-radius:15px;text-align:center}.result-preview-container{position:relative;margin:1rem auto;display:inline-block;max-width:500px;max-height:300px;overflow:hidden}.result-preview{max-width:100%;max-height:100%;border-radius:10px;box-shadow:0 6px 20px rgb(0 0 0 / .15);object-fit:contain}.download-btn{width:100%;margin-top:1rem;padding:1rem;font-size:1.125rem;font-weight:700;border-radius:25px;background:linear-gradient(135deg,#28a745 0,#20c997 100%);border:none;color:#fff;cursor:pointer}.download-btn:hover{transform:translateY(-3px);box-shadow:0 8px 25px rgb(40 167 69 / .4)}.accuracy-badge{display:inline-block;background:#28a745;color:#fff;padding:4px 12px;border-radius:20px;font-size:.8rem;font-weight:600;margin-left:10px}.small-size-badge{display:inline-block;background:#17a2b8;color:#fff;padding:4px 12px;border-radius:20px;font-size:.8rem;font-weight:600;margin-left:10px}.error-message{color:#dc3545;text-align:center;margin:10px 0;display:none;font-weight:600;padding:10px;background:rgb(220 53 69 / .1);border-radius:5px}.success-message{color:#28a745;text-align:center;margin:10px 0;display:none;font-weight:600;padding:10px;background:rgb(40 167 69 / .1);border-radius:5px}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes shimmer{0%{transform:translateX(-100%)}100%{transform:translateX(100%)}}@keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.05)}100%{transform:scale(1)}}.compressing{animation:pulse 1.5s infinite}footer{background:linear-gradient(135deg,#343a40 0%,#495057 100%);color:#fff;padding:40px 20px 20px;margin-top:60px}.footer-content{max-width:1200px;margin:0 auto;display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:35px}.footer-section h3{border-bottom:2px solid rgb(255 255 255 / .2);padding-bottom:12px;margin-bottom:25px;font-weight:700}.footer-section ul{list-style:none;padding:0}.footer-section ul li{margin-bottom:12px}.footer-section a{color:#ccc;text-decoration:none;transition:all 0.3s ease;font-size:15px}.footer-section a:hover{color:#fff;padding-left:5px}.footer-section a.active{color:#17a2b8;font-weight:600}.copyright{text-align:center;padding-top:25px;margin-top:35px;border-top:1px solid rgb(255 255 255 / .2);color:#ccc;font-size:14px}@media (max-width:1024px){.nav-menu{display:none;position:fixed;top:70px;left:0;right:0;background:#fff;box-shadow:0 10px 30px rgb(0 0 0 / .15);padding:20px;flex-direction:column;z-index:1001;max-height:calc(100vh - 70px);overflow-y:auto;transition:all 0.3s ease;border-top:1px solid #e9ecef}.nav-menu.active{display:flex;animation:slideDown 0.3s ease}@keyframes slideDown{from{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.nav-list{flex-direction:column;width:100%;gap:0;padding:0;margin:0 0 20px 0}.nav-list li{width:100%;border-bottom:1px solid #f0f0f0}.nav-list li:last-child{border-bottom:none}.nav-list a{display:block;padding:15px 20px;font-size:1rem;border-radius:0;border-left:3px solid #fff0}.nav-list a:hover,.nav-list a.active{border-left:3px solid #007bff;background:rgb(0 123 255 / .05)}.desktop-tool-btn{display:none}.mobile-tool-btn{display:block;width:100%;text-align:center;padding:12px;margin-top:10px;font-size:1rem;border-radius:10px}}@media (max-width:1024px) and (min-width:769px){.nav-menu{padding:25px 40px}.nav-list a{padding:18px 25px;font-size:1.05rem}}@media (max-width:480px){.nav-brand{font-size:1.2rem}.nav-toggle{width:36px;height:36px;padding:6px}.nav-toggle span{width:22px;height:2.5px}.nav-menu{padding:15px}.nav-list a{padding:12px 15px;font-size:.95rem}.mobile-tool-btn{padding:10px;font-size:.95rem}}@media (max-width:768px){.main-container{padding:0 15px}.tool-card{padding:1.5rem}.upload-area{min-height:300px;height:350px;padding:1.5rem}.image-preview-container{height:250px}.size-inputs{flex-direction:column}.size-input,.unit-select{width:100%;max-width:200px}.preset-buttons{gap:5px}.preset-btn{padding:.4rem .8rem;font-size:.8rem}.progress-meter{width:95%}.content-section{padding:1.5rem}.footer-content{grid-template-columns:1fr;gap:25px}}@media (max-width:320px){.nav-container{padding:0 10px}.nav-brand{font-size:1.1rem}.nav-menu{padding:10px}.nav-list a{padding:10px 12px;font-size:.9rem}}@media (min-width:1400px){.nav-container{max-width:1300px}.nav-list{gap:25px}.nav-list a{font-size:1rem;padding:10px 15px}.tool-btn{padding:10px 20px;font-size:1rem}}.nav-toggle:focus{outline:2px solid #007bff;outline-offset:2px}.nav-list a:focus{outline:2px solid #007bff;outline-offset:-2px}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <a class="nav-brand" href="index.html">
                <i class="fas fa-image"></i> IMG1RESIZE.IN
            </a>
            
            <!-- Toggle Button - ‡§∏‡§≠‡•Ä devices ‡§™‡§∞ show ‡§π‡•ã‡§ó‡§æ -->
            <button class="nav-toggle" id="navToggle" aria-label="Toggle navigation">
                <span></span>
                <span></span>
                <span></span>
            </button>
            
            <!-- Navigation Menu - Toggle button ‡§∏‡•á control ‡§π‡•ã‡§ó‡§æ -->
            <div class="nav-menu" id="navMenu">
                <ul class="nav-list">
                   <li><a href="index.html">Home</a></li>
                        <li><a href="image-resizer.html">image Resizer</a></li>
                        <li><a href="pixel-resizer.html">Pixel Resizer</a></li>
                        <li><a href="format-converter.html" >Format Converter</a></li>
                        <li><a href="image-compressor.html" class="active">image compressor</a></li>
                        <li><a href="Increase-kb.html">Increase kb|mb</a></li>
                    <li><a href="image-to-pdf.html">image to PDF converter</a></li> 
                     <li><a href="text-to-pdf.html">text to PDF converter</a></li>
                    <li><a href="#tutorial">Tutorial</a></li>
                    <li><a href="#features">Features</a></li>
                    <li><a href="#faq">FAQ</a></li>
                    <li><a href="#about">About</a></li>
                </ul>
                <a href="index.html" class="tool-btn mobile-tool-btn">All Tools</a>
            </div>
            
            <!-- Desktop Tool Button (Mobile ‡§™‡§∞ hide ‡§π‡•ã‡§ó‡§æ) -->
            <a href="index.html" class="tool-btn desktop-tool-btn">All Tools</a>
        </div>
    </nav>

    <!-- Main Tool -->
    <div class="main-container">
        <!-- Tool Section -->
        <section id="home" class="tool-card">
            <h1 style="text-align: center; margin-bottom: 1rem; color: #007bff;">
                Exact Size Image Compressor
            </h1>
            <p style="text-align: center; margin-bottom: 2rem; color: #666;">
                Compress images to exact file size from 10KB to 20MB
            </p>

            <!-- Upload Area -->
            <div class="upload-area" id="drop-area">
                <p class="upload-text" id="upload-text">Select image & drag/drop here</p>
                
                <!-- Image Preview with Overlays -->
                <div class="image-preview-container" id="image-preview-container">
                    <img id="image-preview" class="image-preview" alt="Preview of selected image">
                    <div class="dimension-overlay" id="dimension-overlay"></div>
                    <div class="size-badge" id="size-badge"></div>
                    <div class="format-badge" id="format-badge"></div>
                </div>
                
                <button class="btn btn-primary" id="select-image">
                    <i class="fas fa-folder-open"></i> Select Image
                </button>
                <button class="btn btn-warning" id="reset-image">
                    <i class="fas fa-redo"></i> Reset
                </button>
                <input type="file" id="file-input" accept="image/*" style="display: none;">
            </div>

            <!-- Size Controls -->
            <div class="size-controls">
                <h3 style="text-align: center; margin-bottom: 1rem;">Target File Size:</h3>
                <div class="size-inputs">
                    <input type="number" class="size-input" id="size-input" placeholder="Enter size" min="10" value="200" step="1">
                    <select class="unit-select" id="unit-select">
                        <option value="kb">KB</option>
                        <option value="mb">MB</option>
                    </select>
                </div>
                
                <div class="size-info">
                    Selected size: <span id="selected-size-display">200 KB</span>
                    <span class="accuracy-badge">Exact Size Guarantee</span>
                    <span class="small-size-badge">10KB - 20MB Supported</span>
                </div>
                
                <div class="preset-buttons">
                    <button class="preset-btn" data-size="10">10 KB</button>
                    <button class="preset-btn" data-size="12">12 KB</button>
                    <button class="preset-btn" data-size="15">15 KB</button>
                    <button class="preset-btn" data-size="20">20 KB</button>
                    <button class="preset-btn" data-size="50">50 KB</button>
                    <button class="preset-btn" data-size="100">100 KB</button>
                    <button class="preset-btn" data-size="200">200 KB</button>
                    <button class="preset-btn" data-size="500">500 KB</button>
                    <button class="preset-btn" data-size="1" data-unit="mb">1 MB</button>
                    <button class="preset-btn" data-size="2" data-unit="mb">2 MB</button>
                </div>
            </div>

            <!-- Quality Control -->
            <div class="quality-control">
                <label for="quality-slider">Quality (Higher = Better): <span id="quality-value">85%</span></label>
                <input type="range" class="quality-slider" id="quality-slider" min="10" max="100" value="85">
            </div>

            <!-- Messages -->
            <div class="error-message" id="error-message"></div>
            <div class="success-message" id="success-message"></div>

            <!-- Progress Meter -->
            <div class="progress-meter-container" id="progress-meter-container">
                <div class="progress-meter">
                    <div class="progress-meter-fill" id="progress-meter-fill"></div>
                </div>
                
                <div class="progress-stages">
                    <div class="progress-stage" id="stage-1">Initializing</div>
                    <div class="progress-stage" id="stage-2">Analyzing</div>
                    <div class="progress-stage" id="stage-3">Compressing</div>
                    <div class="progress-stage" id="stage-4">Optimizing</div>
                    <div class="progress-stage" id="stage-5">Finalizing</div>
                </div>
                
                <div class="progress-text" id="progress-text">Starting compression...</div>
                <div class="progress-time" id="progress-time">Elapsed time: 0s</div>
            </div>

            <!-- Compress Button -->
            <div style="text-align: center; margin: 2rem 0;">
                <button class="btn btn-primary compressing" id="compress-button" style="padding: 1rem 2.5rem; font-size: 1.125rem;">
                    <i class="fas fa-magic"></i> Compress to Exact Size
                </button>
            </div>

            <!-- Preview Container -->
            <div class="preview-container" id="preview-container">
                <div class="preview-box">
                    <h3 style="color: #28a745; margin-bottom: 1rem;">
                        <i class="fas fa-check-circle"></i> Compression Successful!
                    </h3>
                    
                    <div class="result-preview-container">
                        <img id="resized-preview" class="result-preview" alt="Resized image preview">
                        <div class="dimension-overlay" id="result-dimension-overlay"></div>
                        <div class="size-badge" id="result-size-badge"></div>
                    </div>
                    
                    <div id="resized-info" style="margin: 1rem 0; padding: 1rem; background: #f8f9fa; border-radius: 8px; text-align: left;"></div>
                    
                    <button class="download-btn" id="download-button">
                        <i class="fas fa-download"></i> Download Compressed Image
                    </button>
                </div>
            </div>
        </section>

        <!-- Tutorial Section -->
        <section id="tutorial" class="content-section">
            <h2 class="section-title">üìö How to Use This Tool - Complete Tutorial</h2>
            
            <p>Welcome to our Exact Size Image Compressor tool! This comprehensive tutorial will guide you through every feature and help you get the best results.</p>
            <img src="compress.jpg" alt="image is mission" max-height="250" width="100%"/>
            <h3>Step-by-Step Guide:</h3>
            <ol>
                <li><strong>Upload Your Image:</strong> Click the "Select Image" button or drag and drop your image directly into the upload area. Supported formats include JPEG, PNG, and WebP.</li>
                <li><strong>View Image Details:</strong> Once uploaded, you'll see your image preview with dimensions (width √ó height), file size, and format displayed on the image itself.</li>
                <li><strong>Set Target Size:</strong> Enter your desired file size in the input field. You can choose between KB (kilobytes) or MB (megabytes) using the dropdown menu.</li>
                <li><strong>Use Quick Presets:</strong> For common sizes like 10KB, 100KB, 200KB, or 1MB, simply click on the preset buttons for instant size selection.</li>
                <li><strong>Adjust Quality:</strong> Use the quality slider to balance between file size and image quality. Higher quality means better image but larger file size.</li>
                <li><strong>Start Compression:</strong> Click the "Compress to Exact Size" button to begin the compression process.</li>
                <li><strong>Monitor Progress:</strong> Watch the progress meter as your image is processed through five stages: Initializing, Analyzing, Compressing, Optimizing, and Finalizing.</li>
                <li><strong>Download Result:</strong> Once complete, download your perfectly compressed image with the exact file size you specified.</li>
            </ol>
            
            <h3>Advanced Features:</h3>
            <ul>
                <li><strong>Exact Size Guarantee:</strong> Our advanced algorithm ensures you get the exact file size you requested, with accuracy up to 99%.</li>
                <li><strong>Small Size Support:</strong> We specialize in compressing images to very small sizes (as low as 10KB) while maintaining visual quality.</li>
                <li><strong>Batch Processing Ready:</strong> Process multiple images by resetting the tool after each compression.</li>
                <li><strong>Browser-Based Processing:</strong> All compression happens locally in your browser - your images never leave your computer, ensuring complete privacy.</li>
                <li><strong>Mobile Optimized:</strong> Works perfectly on smartphones and tablets with touch-friendly interface.</li>
            </ul>
            
            <h3>Best Practices:</h3>
            <p>For best results with our tool, consider these tips:</p>
            <ul>
                <li>For web use, aim for 100-200KB for optimal loading speed</li>
                <li>For email attachments, keep images under 1MB</li>
                <li>For social media, check platform-specific size requirements</li>
                <li>For printing, maintain higher quality (85%+)</li>
                <li>Start with high-quality source images for best compression results</li>
            </ul>
            
            <h3>Technical Details:</h3>
            <p>Our compression algorithm uses a combination of techniques:</p>
            <ul>
                <li>Intelligent quality adjustment based on target size</li>
                <li>Smart dimension scaling when necessary</li>
                <li>Binary search optimization for precision</li>
                <li>Adaptive compression strategies for different size ranges</li>
                <li>Multi-stage processing for maximum efficiency</li>
            </ul>
            
            <p>This tool is perfect for photographers, web developers, social media managers, students, and anyone who needs to optimize images for specific file size requirements. Whether you're preparing images for a website, email campaign, online application, or storage optimization, our exact size compressor delivers reliable, accurate results every time.</p>
        </section>

        <!-- Features Section -->
        <section id="features" class="content-section">
            <h2 class="section-title">üöÄ Key Features & Benefits</h2>
            
            <p>Our Exact Size Image Compressor stands out from other tools with these powerful features:</p>
            
            <h3>Core Features:</h3>
            <ul>
                <li><strong>Exact Size Compression:</strong> Get precisely the file size you need, not just "close to" what you asked for.</li>
                <li><strong>Wide Size Range:</strong> Supports compression from 10KB to 20MB, covering all common use cases.</li>
                <li><strong>Multiple Format Support:</strong> Works with JPEG, PNG, and WebP formats both as input and output.</li>
                <li><strong>Real-Time Preview:</strong> See image details directly on the preview with overlay information.</li>
                <li><strong>Drag & Drop Interface:</strong> Simple, intuitive interface that works exactly as you expect.</li>
                <li><strong>Progress Tracking:</strong> Detailed progress meter shows each stage of compression with time estimates.</li>
                <li><strong>Quality Control:</strong> Fine-tune the balance between file size and image quality.</li>
                <li><strong>Preset Sizes:</strong> Quick access to commonly used file sizes.</li>
            </ul>
            
            <h3>Technical Advantages:</h3>
            <ul>
                <li><strong>Local Processing:</strong> All compression happens in your browser - no uploads to servers means faster processing and complete privacy.</li>
                <li><strong>Advanced Algorithms:</strong> Uses sophisticated compression techniques optimized for different size targets.</li>
                <li><strong>Optimized Performance:</strong> Processes images in 1-3 seconds for most files, even up to 20MB.</li>
                <li><strong>Accuracy Guarantee:</strong> 99%+ accuracy in hitting target file sizes.</li>
                <li><strong>Cross-Platform:</strong> Works on Windows, Mac, Linux, iOS, and Android with consistent results.</li>
                <li><strong>No Registration Required:</strong> Use immediately without any sign-up process.</li>
                <li><strong>Completely Free:</strong> No hidden charges, no watermarks, no limitations.</li>
            </ul>
            
            <h3>Use Cases:</h3>
            <ul>
                <li><strong>Website Optimization:</strong> Compress images for faster page loading and better SEO</li>
                <li><strong>Email Marketing:</strong> Reduce attachment sizes for better deliverability</li>
                <li><strong>Social Media:</strong> Meet platform-specific size requirements</li>
                <li><strong>Online Forms:</strong> Compress images to meet file size limits for applications</li>
                <li><strong>Document Preparation:</strong> Reduce image sizes for presentations and documents</li>
                <li><strong>Storage Optimization:</strong> Save space on your devices and cloud storage</li>
                <li><strong>E-commerce:</strong> Optimize product images for online stores</li>
                <li><strong>Photography:</strong> Create web-friendly versions of high-resolution images</li>
            </ul>
            
            <p>With these features, our tool provides a comprehensive solution for all your image compression needs. Whether you're a professional needing precise control or a casual user looking for quick results, you'll find our tool both powerful and easy to use.</p>
        </section>

        <!-- FAQ Section -->
        <section id="faq" class="content-section">
            <h2 class="section-title">‚ùì Frequently Asked Questions</h2>
            
            <div class="faq-container">
                <div class="faq-item">
                    <button class="faq-question">What makes this tool different from other image compressors?</button>
                    <div class="faq-answer">
                        <p>Our tool specializes in <strong>exact size compression</strong>. While other tools might give you "approximately" the size you want, we guarantee the exact file size you specify with 99%+ accuracy. We also offer a wider range of size options (from 10KB to 20MB) and provide real-time progress tracking with detailed feedback.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <button class="faq-question">Is my privacy protected when using this tool?</button>
                    <div class="faq-answer">
                        <p><strong>Absolutely!</strong> All image processing happens locally in your web browser. Your images are never uploaded to any server, which means they never leave your computer. This ensures complete privacy and security - we don't store, access, or see any of your images.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <button class="faq-question">What image formats are supported?</button>
                    <div class="faq-answer">
                        <p>We support <strong>JPEG, PNG, and WebP</strong> formats for both input and output. You can upload any of these formats and download in your preferred format. The tool automatically handles format conversion when needed.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <button class="faq-question">How do I compress an image to exactly 200KB?</button>
                    <div class="faq-answer">
                        <p>Simply upload your image, enter "200" in the size input, make sure "KB" is selected in the unit dropdown, adjust quality if needed, and click "Compress to Exact Size". The tool will handle everything and deliver an image that's exactly 200KB (or within 1% of that size).</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <button class="faq-question">Can I compress images to very small sizes like 10KB or 15KB?</button>
                    <div class="faq-answer">
                        <p><strong>Yes!</strong> Our tool is specially optimized for small size compression. We have dedicated algorithms for compressing images to sizes as low as 10KB while maintaining reasonable quality. Use the preset buttons for 10KB, 12KB, or 15KB for quick access to these small size targets.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <button class="faq-question">What's the maximum image size I can process?</button>
                    <div class="faq-answer">
                        <p>You can process images up to <strong>20MB</strong> in size. For best performance, we recommend using images under 10MB. The tool is optimized to handle large files efficiently, but processing time may increase slightly for very large images.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <button class="faq-question">How accurate is the exact size compression?</button>
                    <div class="faq-answer">
                        <p>Our compression algorithm typically achieves <strong>99%+ accuracy</strong>. This means if you ask for 200KB, you'll get an image between 198KB and 202KB. The tool uses advanced binary search techniques and multi-stage optimization to hit target sizes precisely.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <button class="faq-question">Is there any limit on how many images I can compress?</button>
                    <div class="faq-answer">
                        <p><strong>No limits at all!</strong> You can compress as many images as you need, as often as you want. There are no usage restrictions, no registration requirements, and no hidden fees. The tool is 100% free for unlimited use.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <button class="faq-question">Does the tool work on mobile devices?</button>
                    <div class="faq-answer">
                        <p><strong>Yes, perfectly!</strong> The tool is fully responsive and optimized for mobile devices. You can use it on smartphones and tablets with touch-friendly controls. The interface adjusts automatically to your screen size.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <button class="faq-question">What happens if I set a target size larger than the original image?</button>
                    <div class="faq-answer">
                        <p>The tool will prevent compression and show an error message. You can only compress to sizes <strong>smaller than the original</strong>. This ensures you're actually reducing file size, which is the primary purpose of compression.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- About Section -->
        <section id="about" class="content-section">
            <h2 class="section-title">‚ÑπÔ∏è About This Tool</h2>
            
            <p>Welcome to img1resize.in's Exact Size Image Compressor - your reliable solution for precise image compression needs. Our mission is to provide users with a simple, powerful, and free tool for optimizing images to exact file sizes.</p>
            
            <h3>Our Philosophy:</h3>
            <p>We believe image compression should be:</p>
            <ul>
                <li><strong>Accurate:</strong> You should get exactly what you ask for</li>
                <li><strong>Fast:</strong> Processing should be quick and efficient</li>
                <li><strong>Private:</strong> Your images should remain your own</li>
                <li><strong>Accessible:</strong> Available to everyone without barriers</li>
                <li><strong>Reliable:</strong> Consistent results every time</li>
            </ul>
            
            <h3>Technology Behind the Tool:</h3>
            <p>This tool is built using modern web technologies:</p>
            <ul>
                <li>HTML5 Canvas API for image processing</li>
                <li>Advanced JavaScript compression algorithms</li>
                <li>Responsive CSS for cross-device compatibility</li>
                <li>Local browser storage for temporary processing</li>
                <li>Optimized binary operations for speed</li>
            </ul>
            
            <h3>Why Choose Our Tool?</h3>
            <p>Unlike many online compression tools that:</p>
            <ul>
                <li>Upload your images to their servers</li>
                <li>Add watermarks to "free" versions</li>
                <li>Have hidden usage limits</li>
                <li>Provide approximate rather than exact results</li>
            </ul>
            
            <p>Our tool is:</p>
            <ul>
                <li><strong>100% Client-Side:</strong> Everything happens in your browser</li>
                <li><strong>No Watermarks:</strong> Clean, unmarked output</li>
                <li><strong>Unlimited Usage:</strong> No restrictions or registration</li>
                <li><strong>Precise Results:</strong> Exact size delivery guaranteed</li>
                <li><strong>Completely Free:</strong> Now and forever</li>
            </ul>
            
            <h3>Our Commitment:</h3>
            <p>We are committed to:</p>
            <ul>
                <li>Maintaining the tool free of charge</li>
                <li>Regular updates and improvements</li>
                <li>User privacy and data security</li>
                <li>Providing excellent user experience</li>
                <li>Listening to user feedback for enhancements</li>
            </ul>
            
            <p>This tool is part of a suite of free image optimization utilities available at img1resize.in. We're constantly working to improve our tools and add new features based on user needs. Your feedback helps us make the tool better for everyone.</p>
            
            <p>Thank you for choosing our Exact Size Image Compressor. We hope it serves your needs well and helps you optimize your images efficiently and effectively.</p>
        </section>
    </div>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3><i class="fas fa-image"></i> img1resize.in</h3>
                <p>Free online image tools for compression, resizing and format conversion. All tools work directly in your browser with 100% privacy.</p>
            </div>
            
            <div class="footer-section">
                <h3>Our Tools</h3>
                <ul>
                    <li><a href="index.html">Home - All Tools</a></li>
                    <li><a href="file-size-resizer.html">File Size Resizer</a></li>
                    <li><a href="pixel-resizer.html">Pixel Resizer</a></li>
                    <li><a href="format-converter.html">Format Converter</a></li>
                    <li><a href="#home" class="active">Exact Size Compressor</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h3>Quick Links</h3>
                <ul>
              <li><a href="index.html">Home</a></li>
                        <li><a href="image-resizer.html">image Resizer</a></li>
                        <li><a href="pixel-resizer.html">Pixel Resizer</a></li>
                        <li><a href="format-converter.html" >Format Converter</a></li>
                        <li><a href="image-compressor.html" class="active">image compressor</a></li>
                        <li><a href="Increase-kb.html">Increase kb|mb</a></li>
                    <li><a href="image-to-pdf.html">image to PDF converter</a></li> 
                     <li><a href="text-to-pdf.html">text to PDF converter</a></li>
                    <li><a href="#about">About</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h3>Other Tools</h3>
                <ul>
                    <li><a href="image-resizer.html">Reduce image </a></li>
                    <li><a href="pixel-resizer.html">Pixel Dimension Resizer</a></li>
                    <li><a href="format-converter.html">JPG PNG Wep Converter</a></li>
                    <li><a href="index.html">All-in-One Image Tool</a></li>
                </ul>
            </div>
        </div>
        
        <div class="copyright">
            <p>&copy; <span id="current-year">2024</span> img1resize.in. All rights reserved.</p>
        </div>
    </footer>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

    <!-- JavaScript -->
    <script>
        // Fast Cache for performance
      const compressionCache=new Map();let compressionWorker=null;const fileInput=document.getElementById('file-input');const selectImageBtn=document.getElementById('select-image');const resetImageBtn=document.getElementById('reset-image');const dropArea=document.getElementById('drop-area');const uploadText=document.getElementById('upload-text');const imagePreviewContainer=document.getElementById('image-preview-container');const imagePreview=document.getElementById('image-preview');const dimensionOverlay=document.getElementById('dimension-overlay');const sizeBadge=document.getElementById('size-badge');const formatBadge=document.getElementById('format-badge');const sizeInput=document.getElementById('size-input');const unitSelect=document.getElementById('unit-select');const selectedSizeDisplay=document.getElementById('selected-size-display');const qualitySlider=document.getElementById('quality-slider');const qualityValue=document.getElementById('quality-value');const compressButton=document.getElementById('compress-button');const errorMessage=document.getElementById('error-message');const successMessage=document.getElementById('success-message');const progressMeterContainer=document.getElementById('progress-meter-container');const progressMeterFill=document.getElementById('progress-meter-fill');const progressText=document.getElementById('progress-text');const progressTime=document.getElementById('progress-time');const progressStages=document.querySelectorAll('.progress-stage');const previewContainer=document.getElementById('preview-container');const resizedPreview=document.getElementById('resized-preview');const resultDimensionOverlay=document.getElementById('result-dimension-overlay');const resultSizeBadge=document.getElementById('result-size-badge');const resizedInfo=document.getElementById('resized-info');const downloadButton=document.getElementById('download-button');const presetButtons=document.querySelectorAll('.preset-btn');const navToggle=document.getElementById('navToggle');const navMenu=document.getElementById('navMenu');const faqQuestions=document.querySelectorAll('.faq-question');let currentFile=null;let originalImageData=null;let compressionStartTime=null;let progressInterval=null;navToggle.addEventListener('click',(e)=>{e.stopPropagation();navMenu.classList.toggle('active');navToggle.classList.toggle('active');navToggle.setAttribute('aria-expanded',navMenu.classList.contains('active').toString())});document.addEventListener('click',(e)=>{if(!navMenu.contains(e.target)&&!navToggle.contains(e.target)){navMenu.classList.remove('active');navToggle.classList.remove('active');navToggle.setAttribute('aria-expanded','false')}});document.querySelectorAll('.nav-menu a').forEach(link=>{link.addEventListener('click',()=>{navMenu.classList.remove('active');navToggle.classList.remove('active');navToggle.setAttribute('aria-expanded','false')})});document.addEventListener('keydown',(e)=>{if(e.key==='Escape'&&navMenu.classList.contains('active')){navMenu.classList.remove('active');navToggle.classList.remove('active');navToggle.setAttribute('aria-expanded','false')}});faqQuestions.forEach(question=>{question.addEventListener('click',()=>{const answer=question.nextElementSibling;const isActive=question.classList.contains('active');faqQuestions.forEach(q=>{q.classList.remove('active');q.nextElementSibling.classList.remove('show')});if(!isActive){question.classList.add('active');answer.classList.add('show')}})});document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener('click',function(e){e.preventDefault();const targetId=this.getAttribute('href');if(targetId==='#')return;const targetElement=document.querySelector(targetId);if(targetElement){navMenu.classList.remove('active');navToggle.classList.remove('active');navToggle.setAttribute('aria-expanded','false');window.scrollTo({top:targetElement.offsetTop-80,behavior:'smooth'})}})});function createCompressionWorker(){if(typeof Worker!=='undefined'){const workerCode=`
                    self.onmessage = function(e) {
                        const { imageData, width, height, targetKB, startQuality } = e.data;
                        
                        // Create canvas in worker
                        const canvas = new OffscreenCanvas(width, height);
                        const ctx = canvas.getContext('2d');
                        
                        // Draw image
                        const imageBitmap = createImageBitmap(imageData);
                        imageBitmap.then(bitmap => {
                            ctx.drawImage(bitmap, 0, 0);
                            
                            // Fast binary search compression
                            let currentQuality = Math.min(startQuality, 95);
                            let lowQuality = 10;
                            let highQuality = currentQuality;
                            let bestQuality = currentQuality;
                            let bestSize = null;
                            
                            for (let i = 0; i < 15; i++) {
                                const blob = canvas.convertToBlob({
                                    type: 'image/jpeg',
                                    quality: currentQuality / 100
                                });
                                
                                blob.then(blobData => {
                                    const sizeKB = blobData.size / 1024;
                                    
                                    if (Math.abs(sizeKB - targetKB) < 1 || i === 14) {
                                        self.postMessage({
                                            blob: blobData,
                                            quality: currentQuality,
                                            sizeKB: sizeKB,
                                            width: width,
                                            height: height
                                        });
                                    } else if (sizeKB > targetKB) {
                                        highQuality = currentQuality - 1;
                                        currentQuality = Math.floor((lowQuality + highQuality) / 2);
                                    } else {
                                        lowQuality = currentQuality + 1;
                                        currentQuality = Math.floor((lowQuality + highQuality) / 2);
                                    }
                                });
                            }
                        });
                    };
                `;const blob=new Blob([workerCode],{type:'application/javascript'});return new Worker(URL.createObjectURL(blob))}
return null}
class UltraFastCompressor{constructor(){this.maxIterations=20;this.precision=0.01;this.canvas=document.createElement('canvas');this.ctx=this.canvas.getContext('2d',{willReadFrequently:!1});this.worker=createCompressionWorker()}
sizeToBytes(size,unit){return size*(unit==='mb'?1048576:1024)}
formatFileSize(bytes){if(bytes>=1048576){return(bytes/1048576).toFixed(2)+' MB'}else{return(bytes/1024).toFixed(2)+' KB'}}
formatFileSizeExact(bytes,unit){if(unit==='mb'){return(bytes/1048576).toFixed(2)+' MB'}else{return(bytes/1024).toFixed(2)+' KB'}}
async getImageInfo(file){return new Promise((resolve)=>{const img=new Image();img.onload=()=>{resolve({width:img.width,height:img.height,size:file.size,format:file.type.split('/')[1].toUpperCase(),aspectRatio:img.width/img.height,image:img})};img.src=URL.createObjectURL(file)})}
updateProgressMeter(percent,stage,text){requestAnimationFrame(()=>{if(progressMeterFill){progressMeterFill.style.width=percent+'%'}
if(progressText){progressText.textContent=text}
progressStages.forEach((stageElem,index)=>{stageElem.classList.remove('active','completed');if(index+1<stage){stageElem.classList.add('completed')}else if(index+1===stage){stageElem.classList.add('active')}})})}
async compressToExactSize(imageInfo,targetBytes,quality){const startTime=performance.now();this.updateProgressMeter(10,1,'Initializing...');const targetKB=targetBytes/1024;const originalWidth=imageInfo.width;const originalHeight=imageInfo.height;this.canvas.width=originalWidth;this.canvas.height=originalHeight;this.ctx.drawImage(imageInfo.image,0,0);this.updateProgressMeter(30,2,'Optimizing quality...');let currentQuality=Math.min(quality,95);let currentSize=this.getCurrentSize(currentQuality);let low=10;let high=currentQuality;let iterations=0;while(iterations<10&&Math.abs(currentSize-targetKB)>targetKB*0.02){if(currentSize>targetKB){high=currentQuality-1}else{low=currentQuality+1}
currentQuality=Math.floor((low+high)/2);currentQuality=Math.max(5,Math.min(95,currentQuality));currentSize=this.getCurrentSize(currentQuality);iterations++;this.updateProgressMeter(30+iterations*3,3,`Adjusting: ${currentQuality}%`)}
this.updateProgressMeter(60,4,'Optimizing dimensions...');if(Math.abs(currentSize-targetKB)>targetKB*0.05){const scale=Math.sqrt(targetKB/currentSize);const newWidth=Math.max(50,Math.floor(originalWidth*scale*0.95));const newHeight=Math.max(50,Math.floor(originalHeight*scale*0.95));this.canvas.width=newWidth;this.canvas.height=newHeight;this.ctx.imageSmoothingEnabled=!0;this.ctx.imageSmoothingQuality='high';this.ctx.drawImage(imageInfo.image,0,0,newWidth,newHeight);currentSize=this.getCurrentSize(currentQuality);if(Math.abs(currentSize-targetKB)>targetKB*0.02){if(currentSize>targetKB){currentQuality=Math.max(5,currentQuality-2)}else{currentQuality=Math.min(95,currentQuality+2)}
currentSize=this.getCurrentSize(currentQuality)}}
this.updateProgressMeter(90,5,'Finalizing...');const finalDataUrl=this.canvas.toDataURL('image/jpeg',currentQuality/100);const finalSize=this.dataUrlToKB(finalDataUrl);const endTime=performance.now();this.updateProgressMeter(100,5,'Complete!');return{dataUrl:finalDataUrl,width:this.canvas.width,height:this.canvas.height,sizeKB:finalSize,quality:currentQuality,time:endTime-startTime,accuracy:Math.abs((finalSize-targetKB)/targetKB*100).toFixed(2)}}
getCurrentSize(quality){const dataUrl=this.canvas.toDataURL('image/jpeg',quality/100);return this.dataUrlToKB(dataUrl)}
dataUrlToKB(dataUrl){const base64=dataUrl.split(',')[1];return Math.round((base64.length*3)/4/1024*100)/100}
createDownloadLink(dataUrl,fileName){const blob=this.dataUrlToBlob(dataUrl);const url=URL.createObjectURL(blob);const link=document.createElement('a');link.href=url;link.download=fileName;return link}
dataUrlToBlob(dataUrl){const parts=dataUrl.split(',');const mime=parts[0].match(/:(.*?);/)[1];const binary=atob(parts[1]);const array=new Uint8Array(binary.length);for(let i=0;i<binary.length;i++){array[i]=binary.charCodeAt(i)}
return new Blob([array],{type:mime})}
validateTargetSize(originalSize,targetSize){const minSize=10*1024;if(targetSize<minSize){return{valid:!1,message:'Minimum target size is 10 KB'}}
if(targetSize>=originalSize){return{valid:!1,message:`Target size should be less than original (${this.formatFileSize(originalSize)})`}}
const maxSize=20*1024*1024;if(targetSize>maxSize){return{valid:!1,message:'Maximum target size is 20 MB'}}
return{valid:!0}}}
const compressor=new UltraFastCompressor();selectImageBtn.addEventListener('click',()=>fileInput.click());resetImageBtn.addEventListener('click',resetImage);fileInput.addEventListener('change',(e)=>{if(e.target.files.length){handleFileSelect(e.target.files[0])}});dropArea.addEventListener('dragover',(e)=>{e.preventDefault();dropArea.style.borderColor='#28a745';dropArea.style.backgroundColor='#e9f7fe'});dropArea.addEventListener('dragleave',()=>{dropArea.style.borderColor='#007bff';dropArea.style.backgroundColor='#fff'});dropArea.addEventListener('drop',(e)=>{e.preventDefault();dropArea.style.borderColor='#007bff';dropArea.style.backgroundColor='#fff';const files=e.dataTransfer.files;if(files.length){handleFileSelect(files[0])}});sizeInput.addEventListener('input',updateSelectedSizeDisplay);unitSelect.addEventListener('change',updateSelectedSizeDisplay);qualitySlider.addEventListener('input',(e)=>{qualityValue.textContent=e.target.value+'%'});presetButtons.forEach(btn=>{btn.addEventListener('click',(e)=>{const size=e.target.getAttribute('data-size');const unit=e.target.getAttribute('data-unit')||'kb';sizeInput.value=size;unitSelect.value=unit;updateSelectedSizeDisplay();showSuccess(`Size set to ${size} ${unit.toUpperCase()}`)})});compressButton.addEventListener('click',async()=>{if(!currentFile||!originalImageData){showError('Please select an image first');return}
const targetSize=parseFloat(sizeInput.value);const unit=unitSelect.value;if(!targetSize||targetSize<=0){showError('Please enter a valid target size');return}
const targetBytes=compressor.sizeToBytes(targetSize,unit);const quality=parseInt(qualitySlider.value);const validation=compressor.validateTargetSize(originalImageData.size,targetBytes);if(!validation.valid){showError(validation.message);return}
try{hideMessages();progressMeterContainer.style.display='block';compressButton.disabled=!0;compressButton.innerHTML='<i class="fas fa-spinner fa-spin"></i> Compressing...';compressionStartTime=performance.now();startProgressTimer();const result=await compressor.compressToExactSize(originalImageData,targetBytes,quality);stopProgressTimer();const achievedSize=compressor.formatFileSizeExact(result.sizeKB*1024,unit);const targetSizeFormatted=compressor.formatFileSizeExact(targetBytes,unit);const accuracy=((1-Math.abs(result.sizeKB*1024-targetBytes)/targetBytes)*100).toFixed(1);showSuccess(`Successfully compressed to ${achievedSize} (${accuracy}% accuracy)`);displayResult(result,targetBytes,unit,accuracy)}catch(error){console.error('Compression error:',error);showError('Error compressing image: '+error.message)}finally{setTimeout(()=>{compressButton.disabled=!1;compressButton.innerHTML='<i class="fas fa-magic"></i> Compress to Exact Size';progressMeterContainer.style.display='none'},500)}});downloadButton.addEventListener('click',()=>{const dataUrl=resizedPreview.src;if(!dataUrl||dataUrl.includes('undefined')){showError('No image to download');return}
const originalName=currentFile.name;const nameWithoutExt=originalName.substring(0,originalName.lastIndexOf('.'));const targetSize=sizeInput.value;const unit=unitSelect.value;const fileName=`${nameWithoutExt}_exact_${targetSize}${unit}.jpg`;const link=compressor.createDownloadLink(dataUrl,fileName);link.click();URL.revokeObjectURL(link.href);showSuccess('Download started!')});async function handleFileSelect(file){if(!file)return;const validTypes=['image/jpeg','image/jpg','image/png','image/webp'];if(!validTypes.includes(file.type)){showError('Please upload a valid image (JPEG, PNG, WebP)');return}
if(file.size>20*1024*1024){showError('File size too large. Maximum size is 20MB');return}
try{uploadText.textContent='Loading image...';imagePreviewContainer.style.display='none';hideMessages();originalImageData=await compressor.getImageInfo(file);currentFile=file;imagePreview.src=URL.createObjectURL(file);imagePreview.onload=()=>{URL.revokeObjectURL(imagePreview.src);imagePreviewContainer.style.display='block';uploadText.textContent='Image Selected!';dimensionOverlay.textContent=`${originalImageData.width} √ó ${originalImageData.height}`;sizeBadge.textContent=compressor.formatFileSize(originalImageData.size);formatBadge.textContent=originalImageData.format;resetImageBtn.style.display='inline-block';previewContainer.style.display='none';progressMeterContainer.style.display='none';updateSelectedSizeDisplay();showSuccess('Image loaded successfully!')}}catch(error){showError('Error loading image: '+error.message)}}
function updateSelectedSizeDisplay(){const size=sizeInput.value||200;const unit=unitSelect.value;selectedSizeDisplay.textContent=`${size} ${unit.toUpperCase()}`;if(originalImageData){const targetBytes=compressor.sizeToBytes(parseFloat(size),unit);if(targetBytes>=originalImageData.size){showError(`Target size should be less than original (${compressor.formatFileSize(originalImageData.size)})`)}else{hideError()}}}
function displayResult(result,targetBytes,unit,accuracy){resizedPreview.src=result.dataUrl;resultDimensionOverlay.textContent=`${result.width} √ó ${result.height}`;resultSizeBadge.textContent=compressor.formatFileSizeExact(result.sizeKB*1024,unit);const targetSizeFormatted=compressor.formatFileSizeExact(targetBytes,unit);const achievedSizeFormatted=compressor.formatFileSizeExact(result.sizeKB*1024,unit);const originalSizeFormatted=compressor.formatFileSize(originalImageData.size);const reduction=((1-(result.sizeKB*1024)/originalImageData.size)*100).toFixed(1);const infoHTML=`
                <div style="line-height: 1.8;">
                    <div><strong>Original Size:</strong> ${originalSizeFormatted}</div>
                    <div><strong>Target Size:</strong> ${targetSizeFormatted}</div>
                    <div><strong>Achieved Size:</strong> ${achievedSizeFormatted} <span style="color: #28a745;">‚úì</span></div>
                    <div><strong>Accuracy:</strong> ${accuracy}%</div>
                    <div><strong>Dimensions:</strong> ${originalImageData.width}√ó${originalImageData.height} ‚Üí ${result.width}√ó${result.height} px</div>
                    <div><strong>Quality:</strong> ${result.quality}%</div>
                    <div><strong>Size Reduction:</strong> ${reduction}%</div>
                    <div><strong>Processing Time:</strong> ${result.time.toFixed(0)} ms</div>
                </div>
            `;resizedInfo.innerHTML=infoHTML;previewContainer.style.display='block';previewContainer.scrollIntoView({behavior:'smooth',block:'center'})}
function resetImage(){currentFile=null;originalImageData=null;fileInput.value='';imagePreviewContainer.style.display='none';imagePreview.src='';resetImageBtn.style.display='none';previewContainer.style.display='none';progressMeterContainer.style.display='none';uploadText.textContent='Select image & drag/drop here';hideMessages();dimensionOverlay.textContent='';sizeBadge.textContent='';formatBadge.textContent='';compressor.updateProgressMeter(0,1,'Ready to compress')}
function showError(message){errorMessage.textContent=message;errorMessage.style.display='block';successMessage.style.display='none'}
function showSuccess(message){successMessage.textContent=message;successMessage.style.display='block';errorMessage.style.display='none';setTimeout(()=>{successMessage.style.display='none'},3000)}
function hideMessages(){errorMessage.style.display='none';successMessage.style.display='none'}
function hideError(){errorMessage.style.display='none'}
function startProgressTimer(){if(progressInterval)clearInterval(progressInterval);progressInterval=setInterval(()=>{if(compressionStartTime){const elapsed=(performance.now()-compressionStartTime)/1000;progressTime.textContent=`Elapsed time: ${elapsed.toFixed(1)}s`}},100)}
function stopProgressTimer(){if(progressInterval){clearInterval(progressInterval);progressInterval=null}}
updateSelectedSizeDisplay();compressor.updateProgressMeter(0,1,'Ready to compress');document.getElementById('current-year').textContent=new Date().getFullYear();window.addEventListener('load',()=>{console.log('Tool loaded and optimized for speed');setTimeout(()=>{if(!currentFile){compressor.canvas.width=1;compressor.canvas.height=1;compressor.ctx.fillRect(0,0,1,1)}},1000)})
    </script>
</body>
</html>